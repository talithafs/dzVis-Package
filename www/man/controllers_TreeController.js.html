<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: controllers/TreeController.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: controllers/TreeController.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileOverview Definition of the TreeController controller. It manages events associated with the jstree
 * @author Talitha Speranza
 * @version 0.1
 */

/** @class 
 *	@name TreeController */
application.controller("TreeController",["$scope", "databasetree", function($scope, databaseTree){
	
	databaseTree.create('data/menu.json');
	
	var lastTable = undefined ;
	
	/** @fires TreeController#treeClicked */
	$scope.treeClicked = function(){
		
		/** 
		 * Reports that the jstree element was clicked
		 * @event TreeController#treeClicked
     	 * @type {Array.&lt;DatabaseTree~TreeNode>}
     	 */		
		$scope.$parent.$broadcast("treeClicked",databaseTree.getCheckedNodes());
	} ;
	
	/** @fires TreeController#nodeChecked */ 
	databaseTree.$tree.on("check_node.jstree", function(event, data){
		
		var table = databaseTree.getTable(data.node);
		
		if(table != lastTable){
			databaseTree.manageTables(table.id);
			lastTable = table ;
		}
		
		/** 
		 * Reports that a node was checked in the jstree
		 * @event TreeController#nodeChecked
     	 * @type {DatabaseTree~TreeNode}
     	 */
		$scope.$parent.$broadcast("nodeChecked", data.node);
	});
	
	/** @fires TreeController#nodeUnchecked*/
	databaseTree.$tree.on("uncheck_node.jstree", function(event, data){
		
		var checked = databaseTree.getCheckedNodes();
		
		if(checked.length == 0){
			lastTable = undefined ;
			databaseTree.manageTables();
		}
		
		/** 
		 * Reports that a node was checked in the jstree
		 * @event TreeController#nodeUnchecked
     	 * @type {DatabaseTree~TreeNode}
     	 */
		$scope.$parent.$broadcast("nodeUnchecked", data.node);
	});
	
	
}]);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ChartsController.html">ChartsController</a></li><li><a href="Connection.html">Connection</a></li><li><a href="DatabaseTree.html">DatabaseTree</a></li><li><a href="DetailsController.html">DetailsController</a></li><li><a href="GoogleChartsBase.html">GoogleChartsBase</a></li><li><a href="GoogleComboChartController.html">GoogleComboChartController</a></li><li><a href="GoogleMotionChartController.html">GoogleMotionChartController</a></li><li><a href="TreeController.html">TreeController</a></li></ul><h3>Events</h3><ul><li><a href="ChartsController.html#event:createChart">createChart</a></li><li><a href="global.html#event:chartCreated">chartCreated</a></li><li><a href="global.html#event:chartError">chartError</a></li><li><a href="TreeController.html#event:nodeChecked">nodeChecked</a></li><li><a href="TreeController.html#event:nodeUnchecked">nodeUnchecked</a></li><li><a href="TreeController.html#event:treeClicked">treeClicked</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Mar 07 2016 22:11:08 GMT-0300 (E. South America Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
